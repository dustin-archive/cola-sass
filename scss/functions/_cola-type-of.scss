@function cola-internal-type-of($value) {
  $styles: 'none' 'hidden' 'dotted' 'dashed' 'solid' 'double' 'groove' 'ridge' 'inset' 'outset';
  $lengths: 'px' 'em' 'rem' 'vw' 'vh' 'vmin' 'vmax' 'in' 'cm' 'mm' 'pt' 'pc' 'ex' 'ch';

  @if type-of($value) == 'string' {
    @if index($styles, $value) {
      @return 'style';
    }
    @else if index($lengths, $value) {
      @return 'length';
    }
    @else if str-index($value, '!') {
      @return 'flag';
    }
  }
  @else if type-of($value) == 'list' and length($value) == 1 {
    @return type-of(nth($value, 1));
  }

  @return type-of($value);
}

@function cola-type-of($list, $root: null) {
  @return cola-process-list('cola-internal-type-of', $list, $root);
}

// number (number (number))
// string (color (number))
// @debug cola-type-of(1 (2 (3)));
// @debug cola-type-of(hello (blue (3)));

// number (2 (3))
// string (blue (3))
// @debug cola-type-of(1 (2 (3)), 'root');
// @debug cola-type-of(hello (blue (3)), 'root');

// list
// string
// @debug type-of(join((), foobar));
// @debug cola-type-of(join((), foobar));

// list
// @debug cola-type-of(());

// style
// @debug cola-type-of(solid);

// length
// @debug cola-type-of(px);

// flag
// @debug cola-type-of(!important);
